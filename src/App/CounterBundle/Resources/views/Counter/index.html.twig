{% extends "AppBackendBundle::layout.html.twig" %}

{% block title 'Counter - Licznik'|trans({},'gsCounter') %}
{% block page_title 'Logi odzwiedzin'|trans({},'gsCounter') %}

{% block content_header '' %}

{% block content %}
<div class="col-md-12 col-sm-12 col-xs-12">
    <div class="x_panel">
        <div class="x_title">
            {% include 'AppCounterBundle:Counter:_menu.html.twig' with {'active':'all'}%}
            <ul class="nav navbar-right panel_toolbox">

                <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="#">Settings 1</a>
                        </li>
                        <li><a href="#">Settings 2</a>
                        </li>
                    </ul>
                </li>
                <li><a class="close-link"><i class="fa fa-close"></i></a>
                </li>
            </ul>
            <div class="clearfix"></div>
        </div>

        <div class="x_content">
            <div class="table-responsive">
                <table class="table table-striped jambo_table bulk_action">
                    <thead>
                    <tr class="headings">
                        <th class="column-title">{{ knp_pagination_sortable(pager,'#', 'a.id')|raw }}</th>
                        <th class="column-title {% if pager.isSorted('a.countMeter') %} sorted{% endif %}">{{knp_pagination_sortable(pager,'Ile'|trans({},'gsCounter'), 'a.countMeter')|raw }}</th>
                        <th class="column-title {% if pager.isSorted('a.domain') %} sorted{% endif %}">{{knp_pagination_sortable(pager,'Domain'|trans({},'gsCounter'), 'a.domain')|raw }}</th>
                        <th class="column-title {% if pager.isSorted('a.ip') %} sorted{% endif %}">{{knp_pagination_sortable(pager,'IP'|trans({},'gsCounter'), 'a.ip')|raw }}</th>
                        <th class="column-title {% if pager.isSorted('a.browser') %} sorted{% endif %}">{{knp_pagination_sortable(pager,'Przegladarka'|trans({},'gsCounter'), 'a.browser')|raw }}</th>
                        <th class="column-title {% if pager.isSorted('a.browserVersion') %} sorted{% endif %}">{{knp_pagination_sortable(pager,'Ver.'|trans({},'gsCounter'), 'a.browserVersion')|raw }}</th>
                        <th class="column-title {% if pager.isSorted('a.platform') %} sorted{% endif %}">{{knp_pagination_sortable(pager,'System'|trans({},'gsCounter'), 'a.platform')|raw }}</th>
                        <th class="column-title {% if pager.isSorted('a.country') %} sorted{% endif %}">{{knp_pagination_sortable(pager,'Kraj'|trans({},'gsCounter'), 'a.country')|raw }}</th>
                        <th class="column-title {% if pager.isSorted('a.iso') %} sorted{% endif %}">{{knp_pagination_sortable(pager,'ISO'|trans({},'gsCounter'), 'a.iso')|raw }}</th>
                        <th class="column-title {% if pager.isSorted('a.iso3') %} sorted{% endif %}">{{knp_pagination_sortable(pager,'ISO3'|trans({},'gsCounter'), 'a.iso3')|raw }}</th>
                        <th class="column-title {% if pager.isSorted('a.userAgent') %} sorted{% endif %}">{{knp_pagination_sortable(pager,'User Agent'|trans({},'gsCounter'), 'a.userAgent')|raw }}</th>
                        <th class="column-title {% if pager.isSorted('a.createdAt') %} sorted{% endif %}">{{knp_pagination_sortable(pager,'CreatedAt'|trans({},'gsCounter'), 'a.createdAt')|raw }}</th>
                    </tr>
                    </thead>

                    <tbody>

                    {% for key, row in pager %}
                        <tr {% if loop.index is odd %}class="even pointer"{% else %} class="odd pointer"{% endif %}>
                            <td>{{ getIIter(pager,key) }}</td>
                            <td>{{ row.countMeter }}</td>
                            <td>{{ row.domain }}</td>
                            <td>{{ row.ip }}</td>
                            <td>{{ row.browser }}</td>
                            <td>{{ row.browserVersion }}</td>
                            <td>{{ row.platform }}</td>
                            <td>{{ row.country }}</td>
                            <td>{{ row.iso }}</td>
                            <td>{{ row.iso3 }}</td>
                            <td>{{ row.userAgent }}</td>
                            <td>{{ row.createdAt|date("Y/m/d") }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
                {{ knp_pagination_render(pager) }}
            </div>
        </div>
    </div>
</div>
{% endblock %}
      